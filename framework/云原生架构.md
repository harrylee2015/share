# 云原生架构

## 传统运维架构弊端

1. 架构层次太多，排查问题较为困难
2. 扩展性弱，无法快速做到弹性伸缩
3. 资源浪费严重，为了高可用，会有许多冗余服务器
4. 架构重构性差，一旦成型，很难做调整
5. 发布流程繁琐，很容易引起用户体验问题
6. 往往需要人肉运维，容易背锅
7. 监控做的粗糙，一深入业务就不好定位

 ## IT技术发展演进

 软件架构|资源粒度|开发模式|发布部署
 ------|-------|-----|-----
 单体架构|物理机|瀑布模式|冷部署
 分层架构|虚拟机|敏捷模式|热部署
 微服务|应用容器|DevOps|持续部署
 function|serverless|AIOps/NoOps
 
* 单体架构
  
  适用于流量规模较小的业务，将所有功能集中于同一个应用代码中，以有效降低管理复杂
度及成本；
  * 特点
    1. 所有功能运行于同一个进程中，通过双机或者前置负载均衡器实现负载分流；
    2. 基于数据访问框架（ORM）能够有效简化数据CRUD操作的工作量

  * 优点

    1. 小项目开发快、成本低
    2. 架构简单，易于测试和部署
  * 缺点
    
    1. 项目模块耦合严重，不利于协同开发和升级维护
    2. 新增业务和性能扩展较为困难

* 垂直应用架构

  随着流量规模逐渐增大，扩展单体应用部署的副本数（水平扩容）来提升系统容量和性能的边际收益快速降低，
此时，提升效率的方法之一是将一个大的单体应用垂直拆分为几个功能独立的小单体。

  用于分离前后台逻辑、加速前端页面开发的Web框架(MVC模型、视图、控制器)成为关键所在；

  * 优点
    
    1. 有利于提升开发效率
    2. 有利于降低维护难度
    3. 便于水平扩展、分散负载
    4. 有利于提升容错能力
       
  * 缺点
    
    1. 烟囱架构，公用模块无法复用

 * 分布式RPC架构

   随着垂直应用数量的增加，应用间的交互无可避免，抽取公共业务作为独立的服务形成稳
定的服务中心，并支持前后台在逻辑上的分离；

  * 分布式服务框架(RPC)成为关键技术；
  * 常见的RPC框架
    
    * Goggle gRPC
    * Facebook Thrift
    * Baidu bRPC
    * 蚂蚁金服 SOFA-RPC
    * Alibaba Dubbo
   
   * 缺点

     1. 服务间的耦合度较高
     2. 调用关系错综复杂，难以维护





[iac基础设施即编码](https://www.51cto.com/article/711841.html)
